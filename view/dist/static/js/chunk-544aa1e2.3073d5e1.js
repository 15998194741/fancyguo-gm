(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-544aa1e2"],{"06c1":function(e,t,l){},1:function(e,t){},2:function(e,t){},2641:function(e,t,l){"use strict";var a=l("06c1"),r=l.n(a);r.a},3:function(e,t){},eaff:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"white-container"},[l("div",{staticClass:"role-container-header"},[l("ul",{staticStyle:{margin:"5px 10px -5px 0px"}},[l("li",[l("el-button",{staticClass:"button-with-header",attrs:{slot:"reference",icon:"el-icon-refresh",size:"small"},on:{click:e.filterFormChange},slot:"reference"},[e._v("刷新")])],1),e._v(" "),l("li",[l("el-button",{staticClass:"button-with-header",attrs:{slot:"append",icon:"el-icon-delete-solid",size:"small"},on:{click:function(t){e.dialogFormchange=!0}},slot:"append"},[e._v("添加白名单用户")])],1)])]),e._v(" "),l("div",{staticClass:"role-container-search"},[l("div",{staticClass:"server-container"},[e._v("ID：\n   \n "),l("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入角色ID",size:"small"},model:{value:e.filterForm.value,callback:function(t){e.$set(e.filterForm,"value",t)},expression:"filterForm.value"}}),e._v(" "),l("el-button",{staticClass:"button-with-select",attrs:{slot:"append",icon:"el-icon-search",size:"small",name:"truesearch"},on:{click:function(t){return e.filterFormChange("click")}},slot:"append"})],1),e._v(" "),l("div",{staticClass:"comprehensive-container"},e._l(e.selectForm,(function(t,a){return l("div",{key:a,staticClass:"select-item"},[e._v(" "+e._s(t.label)+":\n   "),l("el-select",{staticStyle:{"border-radius":"10px"},attrs:{multiple:t["multiple"],placeholder:"请选择",size:"small"},on:{change:function(t){return e.filterFormChange("change")}},model:{value:e.filterForm[t.key],callback:function(l){e.$set(e.filterForm,t.key,l)},expression:"filterForm[i.key]"}},e._l(t.options,(function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)})),0)]),e._v(" "),l("div",{staticClass:"role-container-body",attrs:{id:"body"}},[l("el-table",{ref:"multipleTable",attrs:{border:"",data:e.tableData}},[l("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),e._l(e.tablecolumn,(function(t,a){return l("el-table-column",{key:a,attrs:{label:t.label},scopedSlots:e._u([{key:"default",fn:function(l){return[e._v(e._s(l.row[t.prop]))]}}],null,!0)})}))],2)],1),e._v(" "),l("div",{staticClass:"role-container-bottom"},[l("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"page-size":e.filterForm["pagesize"],"page-sizes":[10,20,30,40],background:"",layout:"total, sizes, prev, pager, next, jumper","pager-count":9,"hide-on-single-page":!1,total:e.total,"current-page":e.filterForm.page},on:{"update:pageSize":function(t){return e.$set(e.filterForm,"pagesize",t)},"update:page-size":function(t){return e.$set(e.filterForm,"pagesize",t)},"update:currentPage":function(t){return e.$set(e.filterForm,"page",t)},"update:current-page":function(t){return e.$set(e.filterForm,"page",t)},"size-change":function(t){return e.filterFormChange("change")},"current-change":function(t){return e.filterFormChange("change")}}})],1),e._v(" "),l("el-dialog",{staticClass:"announceddialog",attrs:{title:"添加白名单用户",visible:e.dialogFormchange,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormchange=t}}},[l("div",[l("el-form",[l("el-form-item",{attrs:{label:"人员名单:",prop:"serverName"}},[l("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:"#",accept:".xlsx,.xls","auto-upload":!0,"file-list":e.filelist,limit:1,multiple:"","http-request":e.fileUpload}},[l("i",{staticClass:"el-icon-upload"}),e._v(" "),l("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),l("em",[e._v("点击上传")])]),e._v(" "),l("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传xlsx/xls文件")])])],1),e._v(" "),l("el-form-item",{attrs:{"label-width":"80px",label:"福利类别:"}},[l("el-select",{staticStyle:{"border-radius":"10px"},attrs:{multiple:"",placeholder:"请选择",size:"small"},model:{value:e.createFormWhite["type"],callback:function(t){e.$set(e.createFormWhite,"type",t)},expression:"createFormWhite['type']"}},e._l(e.servernamesselect,(function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),l("el-form-item",{attrs:{"label-width":"80px",label:"备注",prop:"age"}},[l("el-input",{staticStyle:{width:"10.5vw"},attrs:{size:"small"},model:{value:e.createFormWhite["notebook"],callback:function(t){e.$set(e.createFormWhite,"notebook",t)},expression:"createFormWhite['notebook']"}})],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogFormchange=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormchange=!1}}},[e._v("确 定")])],1)],1)]),e._v(" "),l("el-dialog",{staticClass:"whitedialog",attrs:{title:"excel数据",visible:e.serverCreatedialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.serverCreatedialogFormVisible=t}}},[l("el-table",{ref:"multipleTable",attrs:{border:"",data:e.createFormWhite["roleId"]}},[l("el-table-column",{attrs:{prop:"id",label:"角色id"}}),e._v(" "),l("el-table-column",{attrs:{prop:"serverid",label:"区服id"}})],1)],1)],1)},r=[],i=(l("96cf"),l("1da1")),o=l("eec4"),n=l.n(o),s=(l("ed2c"),l("1146")),c=l.n(s),u={name:"rolequery",data:function(){return{serverCreatedialogFormVisible:!1,createFormWhite:{},dialogFormchange:!1,multipleTable:"",total:0,filelist:[],filterForm:{key:"roleid",value:"",regtime:"",stime:"",plaform:"",channel:"",servername:"",banned_type:"",banned_area:"",page:1,pagesize:10},createFormRules:{type:[{required:!0,message:"请输入至少一个字符",trigger:["blur","change"]}],area:[{required:!0,message:"请选择一个平台",trigger:["blur","change"]}],time:[{required:!0,trigger:["blur","change"]}],beacuse:[{required:!0,message:"请输入原因",trigger:["blur","change"]}],long:[{required:!0,message:"请输入时长",trigger:["blur","change"]}]},insertForm:{type:"1",area:"1",time:"1",beacuse:"",long:""},selectForm:[{label:"平台",multiple:!1,key:"plaform",value:"",options:[{label:"不限制",value:""},{label:"安卓",value:"1"},{label:"苹果",value:"2"}]},{label:"客户端",key:"channel",multiple:!0,value:"",options:[]},{label:"服务器",key:"servername",multiple:!1,value:"",options:[{label:"不限制",value:""}]},{label:"类别",key:"banned_type",multiple:!1,value:"",options:[{label:"不限制",value:""},{label:"封号",value:"1"},{label:"禁言",value:"2"}]},{label:"分组",key:"banned_area",multiple:!1,value:"",options:[{label:"不限制",value:""},{label:"角色",value:"1"},{label:"账户",value:"2"},{label:"IP",value:"3"}]}],idoptions:[{label:"角色ID",value:"roleid"}],tableData:[],tablecolumn:[{label:"角色ID",prop:"roleid",width:50},{label:"平台",prop:"account_id",width:50},{label:"客户端",prop:"role_name",width:25},{label:"服务器名称",prop:"plaform",width:-50},{label:"福利类别",prop:"plaform",width:-50},{label:"福利发放次数",prop:"plaform",width:-50},{label:"角色分组",prop:"plaform",width:-50},{label:"备注",prop:"plaform",width:-50}],screenWidth:145,screenHeight:"",tableTrue:[]}},methods:{fileUpload:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var l,a,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=function(e,t){t.createFormWhite["roleId"]=e,t.$confirm("数据读取完毕，是否展开预览?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.serverCreatedialogFormVisible=!0})).catch((function(e){return!1}))},l=t.file,a=new FileReader,a.onload=function(e){try{var t,l=e.target.result,a=c.a.read(l,{type:"binary"});for(var o in a.Sheets){t=c.a.utils.sheet_to_json(a.Sheets[o]);break}r(t,i)}catch(n){console.log(n),i.$message.warning("文件不正确！")}},a.readAsBinaryString(l);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){var e=this,t=n()();t.listenTo(document.getElementById("body"),(function(t){e.screenWidth=.2429*t.offsetWidth}))}},p=u,d=(l("2641"),l("2877")),m=Object(d["a"])(p,a,r,!1,null,null,null);t["default"]=m.exports},ed2c:function(e,t,l){}}]);