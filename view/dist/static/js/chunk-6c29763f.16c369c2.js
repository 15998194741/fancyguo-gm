(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c29763f"],{"06c1":function(e,t,r){},10:function(e,t){},11:function(e,t){},12:function(e,t){},2641:function(e,t,r){"use strict";var n=r("06c1"),a=r.n(n);a.a},"2d61":function(e,t,r){"use strict";r.d(t,"e",(function(){return a})),r.d(t,"j",(function(){return i})),r.d(t,"k",(function(){return o})),r.d(t,"l",(function(){return l})),r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return c})),r.d(t,"f",(function(){return u})),r.d(t,"h",(function(){return p})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return m})),r.d(t,"i",(function(){return f})),r.d(t,"g",(function(){return d}));var n=r("b775");function a(e){return Object(n["a"])({url:"/white/mailCreate",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/white/whiteFindAll",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/white/whiteFindName",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/white/whiteStopMail",method:"put",data:e})}function s(e){return Object(n["a"])({url:"/white/findTitle",method:"get",params:e})}function c(e){return Object(n["a"])({url:"/white/WhiteMailChange",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/white/mailRelatedUser",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/white/servernameComponents",method:"get",params:e})}function h(e){return Object(n["a"])({url:"/white/channelComponents",method:"get",params:e})}function m(e){return Object(n["a"])({url:"/white/find",method:"get",params:e})}function f(e){return Object(n["a"])({url:"/white/stopWhiteMail",method:"delete",data:e,params:e})}function d(e){return Object(n["a"])({url:"/white/recordLookup",method:"get",params:e})}},eaff:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"white-container"},[r("div",{staticClass:"role-container-header"},[r("ul",{staticStyle:{margin:"5px 10px -5px 0px"}},[r("li",[r("el-button",{staticClass:"button-with-header",attrs:{slot:"reference",icon:"el-icon-refresh",size:"small"},on:{click:e.filterFormChange},slot:"reference"},[e._v("刷新")])],1),e._v(" "),r("li",[e.grade?r("el-button",{staticClass:"button-with-header",attrs:{slot:"append",icon:"el-icon-delete-solid",size:"small"},on:{click:e.createFormAlert},slot:"append"},[e._v("添加白名单用户")]):e._e()],1)])]),e._v(" "),r("div",{staticClass:"role-container-search"},[r("div",{staticClass:"server-container"},[r("span",[e._v("角色ID：")]),e._v(" "),r("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入角色ID",size:"small"},model:{value:e.filterForm.value,callback:function(t){e.$set(e.filterForm,"value",t)},expression:"filterForm.value"}}),e._v(" "),r("el-button",{staticClass:"button-with-select",attrs:{slot:"append",icon:"el-icon-search",size:"small",name:"truesearch"},on:{click:function(t){return e.filterFormChange("click")}},slot:"append"})],1),e._v(" "),r("div",{staticClass:"comprehensive-container"},e._l(e.selectForm,(function(t,n){return r("div",{key:n,staticClass:"select-item"},[e._v(" "+e._s(t.label)+":\n   "),r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{multiple:t["multiple"],clearable:"","collapse-tags":t["collapse"],filterable:t.filterable,placeholder:"请选择",size:"small"},on:{change:function(t){return e.filterFormChange("change")}},model:{value:e.filterForm[t.key],callback:function(r){e.$set(e.filterForm,t.key,r)},expression:"filterForm[i.key]"}},e._l(t.options,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)})),0)]),e._v(" "),r("div",{staticClass:"role-container-body",attrs:{id:"body"}},[r("el-table",{ref:"multipleTable",attrs:{border:"",data:e.tableData}},[e._l(e.tablecolumn,(function(t,n){return r("el-table-column",{key:n,attrs:{label:t.label},scopedSlots:e._u([{key:"default",fn:function(n){return[n.row[t.prop]?"string"===typeof n.row[t.prop]||"number"===typeof n.row[t.prop]?r("div",{staticClass:"tableHiddenBody",attrs:{title:n.row[t.prop]}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"light",placement:"top"}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("span",[e._v(e._s(n.row[t.prop]))])])]),e._v(" "),r("span",{staticClass:"tableHidden"},[e._v(e._s(n.row[t.prop]))])],1):r("div",[r("el-tooltip",{staticClass:"aasdhjkahskdhjk",attrs:{effect:"light",placement:"top"}},[r("div",{ref:"contentCssTableHover"+n.$index,refInFor:!0,staticClass:"contentCssTableHover",attrs:{slot:"content"},slot:"content"},e._l(n.row[t.prop],(function(t,n){return r("el-tag",{key:n},[e._v(e._s(t))])})),1),e._v(" "),r("div",{staticClass:"contentCssTableHidden"},e._l(n.row[t.prop],(function(t,n){return r("el-tag",{key:n},[e._v(e._s(t))])})),1)])],1):r("div")]}}],null,!0)})})),e._v(" "),e.grade?r("el-table-column",{attrs:{label:"查看"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",plain:""},on:{click:function(r){return e.whiteIndexToMail(t)}}},[e._v("查看")])]}}],null,!1,1149986189)}):e._e(),e._v(" "),e.grade?r("el-table-column",{attrs:{label:"停用"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{directives:[{name:"show",rawName:"v-show",value:"周期"===t["row"]["type"],expression:"scope['row']['type'] === '周期'"}],attrs:{type:"danger",plain:""},on:{click:function(r){return e.whiteMailStop(t)}}},[e._v("停用")])]}}],null,!1,4203609060)}):e._e()],2)],1),e._v(" "),r("div",{staticClass:"role-container-bottom"},[r("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"page-size":e.filterForm["pagesize"],"page-sizes":[10,20,30,40],background:"",layout:"total, sizes, prev, pager, next, jumper","pager-count":9,"hide-on-single-page":!1,total:e.total,"current-page":e.filterForm.page},on:{"update:pageSize":function(t){return e.$set(e.filterForm,"pagesize",t)},"update:page-size":function(t){return e.$set(e.filterForm,"pagesize",t)},"update:currentPage":function(t){return e.$set(e.filterForm,"page",t)},"update:current-page":function(t){return e.$set(e.filterForm,"page",t)},"size-change":function(t){return e.filterFormChange("pagechange")},"current-change":function(t){return e.filterFormChange("pagechange")}}})],1),e._v(" "),r("el-dialog",{staticClass:"announceddialog",attrs:{title:"添加白名单用户",visible:e.dialogFormchange,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormchange=t}}},[r("div",[r("el-form",{ref:"createFormRules",attrs:{model:e.createFormWhite,"status-icon":"",rules:e.createFormRules}},[r("el-form-item",{attrs:{label:"人员名单:",prop:"roleId"}},[r("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:"#",accept:".xlsx,.xls","auto-upload":!0,"file-list":e.filelist,limit:1,multiple:"","http-request":e.fileUpload}},[r("i",{staticClass:"el-icon-upload"}),e._v(" "),r("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),r("em",[e._v("点击上传")])]),e._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传xlsx/xls文件")])])],1),e._v(" "),r("el-form-item",{attrs:{"label-width":"80px",label:"福利类别:",prop:"type"}},[r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{placeholder:"请选择",size:"small"},on:{change:e.typeChange},model:{value:e.createFormWhite["type"],callback:function(t){e.$set(e.createFormWhite,"type",t)},expression:"createFormWhite['type']"}},[r("el-option",{attrs:{label:"周期",value:!0}}),e._v(" "),r("el-option",{attrs:{label:"单次",value:!1}})],1)],1),e._v(" "),r("el-form-item",{attrs:{"label-width":"80px",label:"邮件标题:",prop:"name"}},[r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.createFormWhite["name"],callback:function(t){e.$set(e.createFormWhite,"name",t)},expression:"createFormWhite['name']"}},e._l(e.name,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{"label-width":"80px",label:"备注:",prop:"notebook"}},[r("el-input",{staticStyle:{width:"10.5vw"},attrs:{size:"small"},model:{value:e.createFormWhite["notebook"],callback:function(t){e.$set(e.createFormWhite,"notebook",t)},expression:"createFormWhite['notebook']"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.createFormACancel}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.createFormSumbit}},[e._v("确 定")])],1)],1)]),e._v(" "),r("el-dialog",{staticClass:"whitedialog",attrs:{title:"excel数据",visible:e.serverCreatedialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.serverCreatedialogFormVisible=t}}},[r("el-table",{ref:"multipleTable",attrs:{border:"",data:e.createFormWhite["roleId"]}},[r("el-table-column",{attrs:{prop:"id",label:"角色id"}}),e._v(" "),r("el-table-column",{attrs:{prop:"serverid",label:"区服id"}})],1)],1)],1)},a=[],i=(r("8e6e"),r("456d"),r("c5f6"),r("ac6a"),r("ade3")),o=(r("96cf"),r("1da1")),l=(r("ed2c"),r("1146")),s=r.n(l),c=r("2d61");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={name:"whiteindex",data:function(){var e=this,t=function(t,r,n){if(r=e.$data.createFormWhite["roleId"],!r)return n(new Error("不可以空着哦"));n()},r=function(e,t,r){r()},n=function(e,t,r){if(!t)return r(new Error("不可以空着哦"));r()};return{serverCreatedialogFormVisible:!1,createFormWhite:{roleId:"",name:"",type:!0,notebook:""},names:[],name:[],dialogFormchange:!1,total:0,filelist:[],filterForm:{value:"",plaform:"",channel:"",servername:"",type:"",page:1,pagesize:10},filterForms:{},createFormRules:{roleId:[{validator:t,trigger:["blur","change"]}],type:[{validator:r,trigger:["blur","change"]}],name:[{validator:n,trigger:["blur","change"]}]},selectForm:[{label:"游戏平台",multiple:!0,filterable:!0,collapse:!1,key:"plaform",value:"",options:[{label:"安卓",value:"1"},{label:"苹果",value:"2"}]},{label:"游戏渠道",key:"channel",multiple:!0,filterable:!0,collapse:!0,value:"",options:[]},{label:"服务器名",key:"servername",multiple:!0,filterable:!0,collapse:!0,value:"",options:[]},{label:"福利类别",key:"type",multiple:!1,value:"",options:[{label:"周期",value:"周期"},{label:"单次",value:"单次"}]}],idoptions:[{label:"角色ID",value:"roleid"}],tableData:[],tablecolumn:[{label:"角色ID",prop:"roleids",width:50},{label:"平台",prop:"plaforms",width:50},{label:"渠道",prop:"channel",width:25},{label:"服务器名称",prop:"servername",width:-50},{label:"福利类别",prop:"type",width:-50},{label:"福利ID",prop:"smtp_id",width:-50},{label:"备注",prop:"notebook",width:-50}]}},computed:{grade:function(){return 0!==+this.$route.meta.grade}},methods:{whiteIndexToMail:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t,this.$router.push({path:"/whiteListManagement/whiteListMail",query:p({},r["row"])});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),whiteMailStop:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("是否确认停用白名单邮件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return!1}));case 2:if(r=e.sent,r){e.next=5;break}return e.abrupt("return");case 5:return n=t["row"],a=n.id,e.next=9,Object(c["i"])({id:a});case 9:if(i=e.sent,o=i.code,200===+o){e.next=14;break}return this.$message.warning("停用失败"),e.abrupt("return");case 14:this.$message.success("停用成功"),this.filterFormChangeSumbit();case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),createFormSumbit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs["createFormRules"].validate().catch((function(e){return!1}));case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.$confirm("是否确认添加白名单用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return!1}));case 7:if(r=e.sent,r){e.next=10;break}return e.abrupt("return");case 10:return n=this.$loading({lock:!0,text:"拼命加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.8)"}),e.next=13,Object(c["f"])(this.createFormWhite);case 13:if(a=e.sent,i=a.code,200===+i){e.next=19;break}return n.close(),this.$message.warning("创建失败."),e.abrupt("return");case 19:n.close(),this.$message.warning("创建成功"),this.createFormACancel(),this.dialogFormchange=!1,this.filterFormChange();case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),typeChange:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.createFormWhite["type"],this.createFormWhite["name"]="",this.name=t?this.names["1"]:this.names["2"];case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),filterFormChange:function(e){switch(e){case"click":this.filterFormChangeClick();break;case"change":this.filterFormChangeChange();break;case"pagechange":this.filterFormPageChange();break;default:this.filterFormChangeFlush()}},filterFormChangeClick:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.filterForm["page"]=1,e.t0=regeneratorRuntime.keys(this.filterForm);case 2:if((e.t1=e.t0()).done){e.next=11;break}if(t=e.t1.value,"value"!==t&&"page"!==t&&"pagesize"!==t){e.next=7;break}return this.filterForms[t]=this.filterForm[t],e.abrupt("continue",2);case 7:this.filterForm[t]=null,this.filterForms[t]=this.filterForm[t],e.next=2;break;case 11:this.filterFormChangeSumbit();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),filterFormChangeChange:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t in this.filterForm["value"]=null,this.filterForm["page"]=1,this.filterForm)this.filterForms[t]=this.filterForm[t];this.filterFormChangeSumbit();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),filterFormPageChange:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.filterForms["page"]=this.filterForm["page"],this.filterForms["pagesize"]=this.filterForm["pagesize"],this.filterFormChangeSumbit();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),filterFormChangeFlush:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(this.filterForm);case 1:if((e.t1=e.t0()).done){e.next=8;break}if(t=e.t1.value,"pagesize"!==t){e.next=5;break}return e.abrupt("continue",1);case 5:this.filterForm[t]=null,e.next=1;break;case 8:this.filterForm["page"]=1,this.filterForms=this.filterForm,this.filterFormChangeSumbit();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),filterFormChangeSumbit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["c"])(this.filterForms);case 2:if(t=e.sent,r=t.code,n=t.data,200===+r)try{a=n[0]["total"],this.tableData=n,this.total=a?Number(a):0}catch(i){this.total=0,this.tableData=[]}case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createFormAlert:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogFormchange=!0,e.next=3,Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["k"])();case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))();case 3:this.names=e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createFormACancel:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t in this.filelist=[],this.dialogFormchange=!1,this.createFormWhite)this.createFormWhite[t]=null;return e.next=5,this.$refs["createFormRules"].resetFields();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fileUpload:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=function(e,t){t.createFormWhite["roleId"]=e,t.$confirm("数据读取完毕，是否展开预览?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.serverCreatedialogFormVisible=!0})).catch((function(e){return!1}))},r=t.file,n=new FileReader,n.onload=function(e){try{var t,r=e.target.result,n=s.a.read(r,{type:"binary"});for(var o in n.Sheets){t=s.a.utils.sheet_to_json(n.Sheets[o]);break}a(t,i)}catch(l){i.$message.warning("文件不正确！")}},n.readAsBinaryString(r);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.name=this.names["1"],e.next=3,Object(c["b"])();case 3:return t=e.sent,r=t.data,this.selectForm[1].options=this.selectForm[1].options.concat(r),e.next=8,Object(c["h"])();case 8:n=e.sent,a=n.data,this.selectForm[2].options=this.selectForm[2].options.concat(a);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},m=h,f=(r("2641"),r("2877")),d=Object(f["a"])(m,n,a,!1,null,null,null);t["default"]=d.exports},ed2c:function(e,t,r){}}]);