(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5f05f94"],{"06c5":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r("6b75");function n(e,t){if(e){if("string"===typeof e)return Object(a["a"])(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(a["a"])(e,t):void 0}}},"0a49":function(e,t,r){var a=r("9b43"),n=r("626a"),i=r("4bf8"),l=r("9def"),s=r("cd1c");e.exports=function(e,t){var r=1==e,o=2==e,c=3==e,u=4==e,m=6==e,h=5==e||m,d=t||s;return function(t,s,f){for(var p,b,v=i(t),g=n(v),w=a(s,f,3),y=l(g.length),F=0,_=r?d(t,y):o?d(t,0):void 0;y>F;F++)if((h||F in g)&&(p=g[F],b=w(p,F,v),e))if(r)_[F]=b;else if(b)switch(e){case 3:return!0;case 5:return p;case 6:return F;case 2:_.push(p)}else if(u)return!1;return m?-1:c||u?u:_}}},"0d21":function(e,t,r){"use strict";function a(e){if(Array.isArray(e))return e}r.d(t,"a",(function(){return a}))},"27b3":function(e,t,r){"use strict";var a=r("bc9d"),n=r.n(a);n.a},"3d8c":function(e,t,r){"use strict";function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,"a",(function(){return a}))},"4f3b":function(e,t,r){},"504c":function(e,t,r){var a=r("9e1e"),n=r("0d58"),i=r("6821"),l=r("52a7").f;e.exports=function(e){return function(t){var r,s=i(t),o=n(s),c=o.length,u=0,m=[];while(c>u)r=o[u++],a&&!l.call(s,r)||m.push(e?[r,s[r]]:s[r]);return m}}},"53ca":function(e,t,r){"use strict";function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}r.d(t,"a",(function(){return a}))},"5a0c":function(e,t,r){!function(t,r){e.exports=r()}(0,(function(){"use strict";var e="millisecond",t="second",r="minute",a="hour",n="day",i="week",l="month",s="quarter",o="year",c=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,u=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m=function(e,t,r){var a=String(e);return!a||a.length>=t?e:""+Array(t+1-a.length).join(r)+e},h={s:m,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),a=Math.floor(r/60),n=r%60;return(t<=0?"+":"-")+m(a,2,"0")+":"+m(n,2,"0")},m:function(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(r,l),n=t-a<0,i=e.clone().add(r+(n?-1:1),l);return Number(-(r+(t-a)/(n?a-i:i-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(c){return{M:l,y:o,w:i,d:n,D:"date",h:a,m:r,s:t,ms:e,Q:s}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f="en",p={};p[f]=d;var b=function(e){return e instanceof y},v=function(e,t,r){var a;if(!e)return f;if("string"==typeof e)p[e]&&(a=e),t&&(p[e]=t,a=e);else{var n=e.name;p[n]=e,a=n}return!r&&a&&(f=a),a||!r&&f},g=function(e,t){if(b(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new y(r)},w=h;w.l=v,w.i=b,w.w=function(e,t){return g(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var y=function(){function m(e){this.$L=this.$L||v(e.locale,null,!0),this.parse(e)}var h=m.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var a=t.match(c);if(a)return r?new Date(Date.UTC(a[1],a[2]-1,a[3]||1,a[4]||0,a[5]||0,a[6]||0,a[7]||0)):new Date(a[1],a[2]-1,a[3]||1,a[4]||0,a[5]||0,a[6]||0,a[7]||0)}return new Date(t)}(e),this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return w},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(e,t){var r=g(e);return this.startOf(t)<=r&&r<=this.endOf(t)},h.isAfter=function(e,t){return g(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<g(e)},h.$g=function(e,t,r){return w.u(e)?this[t]:this.set(r,e)},h.year=function(e){return this.$g(e,"$y",o)},h.month=function(e){return this.$g(e,"$M",l)},h.day=function(e){return this.$g(e,"$W",n)},h.date=function(e){return this.$g(e,"$D","date")},h.hour=function(e){return this.$g(e,"$H",a)},h.minute=function(e){return this.$g(e,"$m",r)},h.second=function(e){return this.$g(e,"$s",t)},h.millisecond=function(t){return this.$g(t,"$ms",e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,s){var c=this,u=!!w.u(s)||s,m=w.p(e),h=function(e,t){var r=w.w(c.$u?Date.UTC(c.$y,t,e):new Date(c.$y,t,e),c);return u?r:r.endOf(n)},d=function(e,t){return w.w(c.toDate()[e].apply(c.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),c)},f=this.$W,p=this.$M,b=this.$D,v="set"+(this.$u?"UTC":"");switch(m){case o:return u?h(1,0):h(31,11);case l:return u?h(1,p):h(0,p+1);case i:var g=this.$locale().weekStart||0,y=(f<g?f+7:f)-g;return h(u?b-y:b+(6-y),p);case n:case"date":return d(v+"Hours",0);case a:return d(v+"Minutes",1);case r:return d(v+"Seconds",2);case t:return d(v+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(i,s){var c,u=w.p(i),m="set"+(this.$u?"UTC":""),h=(c={},c[n]=m+"Date",c.date=m+"Date",c[l]=m+"Month",c[o]=m+"FullYear",c[a]=m+"Hours",c[r]=m+"Minutes",c[t]=m+"Seconds",c[e]=m+"Milliseconds",c)[u],d=u===n?this.$D+(s-this.$W):s;if(u===l||u===o){var f=this.clone().set("date",1);f.$d[h](d),f.init(),this.$d=f.set("date",Math.min(this.$D,f.daysInMonth())).toDate()}else h&&this.$d[h](d);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[w.p(e)]()},h.add=function(e,s){var c,u=this;e=Number(e);var m=w.p(s),h=function(t){var r=g(u);return w.w(r.date(r.date()+Math.round(t*e)),u)};if(m===l)return this.set(l,this.$M+e);if(m===o)return this.set(o,this.$y+e);if(m===n)return h(1);if(m===i)return h(7);var d=(c={},c[r]=6e4,c[a]=36e5,c[t]=1e3,c)[m]||1,f=this.$d.getTime()+e*d;return w.w(f,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var r=e||"YYYY-MM-DDTHH:mm:ssZ",a=w.z(this),n=this.$locale(),i=this.$H,l=this.$m,s=this.$M,o=n.weekdays,c=n.months,m=function(e,a,n,i){return e&&(e[a]||e(t,r))||n[a].substr(0,i)},h=function(e){return w.s(i%12||12,e,"0")},d=n.meridiem||function(e,t,r){var a=e<12?"AM":"PM";return r?a.toLowerCase():a},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:w.s(s+1,2,"0"),MMM:m(n.monthsShort,s,c,3),MMMM:m(c,s),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:m(n.weekdaysMin,this.$W,o,2),ddd:m(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(i),HH:w.s(i,2,"0"),h:h(1),hh:h(2),a:d(i,l,!0),A:d(i,l,!1),m:String(l),mm:w.s(l,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:a};return r.replace(u,(function(e,t){return t||f[e]||a.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(e,c,u){var m,h=w.p(c),d=g(e),f=6e4*(d.utcOffset()-this.utcOffset()),p=this-d,b=w.m(this,d);return b=(m={},m[o]=b/12,m[l]=b,m[s]=b/3,m[i]=(p-f)/6048e5,m[n]=(p-f)/864e5,m[a]=p/36e5,m[r]=p/6e4,m[t]=p/1e3,m)[h]||p,u?b:w.a(b)},h.daysInMonth=function(){return this.endOf(l).$D},h.$locale=function(){return p[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),a=v(e,t,!0);return a&&(r.$L=a),r},h.clone=function(){return w.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},m}();return g.prototype=y.prototype,g.extend=function(e,t){return e(t,y,g),g},g.locale=v,g.isDayjs=b,g.unix=function(e){return g(1e3*e)},g.en=p[f],g.Ls=p,g}))},"6b75":function(e,t,r){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}r.d(t,"a",(function(){return a}))},7364:function(e,t,r){"use strict";r.d(t,"f",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"g",(function(){return u}));var a=r("b775");function n(e){return Object(a["a"])({url:"character/query",method:"get",params:e})}function i(){return Object(a["a"])({url:"character/findServername",method:"get"})}function l(e){return Object(a["a"])({url:"character/prohibitedMute",method:"put",data:e})}function s(e){return Object(a["a"])({url:"character/outputConsume",method:"get",params:e})}function o(e){return Object(a["a"])({url:"character/backPackQuery",method:"get",params:e})}function c(e){return Object(a["a"])({url:"character/backPackRecycle",method:"put",data:e})}function u(e){return Object(a["a"])({url:"character/uploadFile",method:"post",data:e,form:e})}},7514:function(e,t,r){"use strict";var a=r("5ca1"),n=r("0a49")(5),i="find",l=!0;i in[]&&Array(1)[i]((function(){l=!1})),a(a.P+a.F*l,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(i)},7784:function(e,t,r){},a458:function(e,t,r){"use strict";var a=r("4f3b"),n=r.n(a);n.a},bc9d:function(e,t,r){},c82a:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return l}));r("96cf");var a=r("1da1");function n(e){e.$loading({lock:!0,text:"拼命加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.8)"})}function i(e){e.$loading().close()}function l(e,t){return s.apply(this,arguments)}function s(){return s=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$confirm(r,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}},cd1c:function(e,t,r){var a=r("e853");e.exports=function(e,t){return new(a(e))(t)}},e853:function(e,t,r){var a=r("d3f4"),n=r("1169"),i=r("2b4c")("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!n(t.prototype)||(t=void 0),a(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?Array:t}},f0da:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"rechaContainer",staticClass:"anno-container"},[r("div",{staticClass:"role-container-header"},[r("ul",{staticStyle:{"margin-top":"5px","margin-bottom":"-5px","margin-right":"10px"}},[r("li",[r("el-button",{staticClass:"button-with-header",attrs:{slot:"reference",icon:"el-icon-refresh-right",size:"small"},on:{click:e.filterFormChangeFlush},slot:"reference"},[e._v("刷新")])],1),e._v(" "),r("li",[e.grade?r("el-button",{staticClass:"button-with-header",attrs:{slot:"reference",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.dialogFormVisiblechangealter},slot:"reference"},[e._v("新建公告")]):e._e()],1),e._v(" "),r("li",[e.grade?r("el-button",{staticClass:"button-with-header",attrs:{slot:"reference",icon:"el-icon-mouse",disabled:e.send,size:"small"},on:{click:function(t){e.dialogFormVisiblesend=!0}},slot:"reference"},[e._v("发布")]):e._e()],1)])]),e._v(" "),r("div",{staticClass:"role-container-search"},[r("div",{staticClass:"server-container"},[e._v("公告ID：\n      "),r("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入公告ID",size:"small"},model:{value:e.filterForm["bulletinid"],callback:function(t){e.$set(e.filterForm,"bulletinid",t)},expression:"filterForm['bulletinid']"}}),e._v(" "),r("el-button",{staticClass:"button-with-select",attrs:{slot:"append",icon:"el-icon-search",size:"small",name:"truesearch"},on:{click:function(t){return e.filterFormChange("click")}},slot:"append"}),e._v(" "),r("span",[e._v("  发布时间：")]),e._v(" "),r("el-date-picker",{attrs:{size:"small",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){return e.filterFormChange("change")}},model:{value:e.filterForm["setime"],callback:function(t){e.$set(e.filterForm,"setime",t)},expression:"filterForm['setime']"}})],1),e._v(" "),r("div",{staticClass:"comprehensive-container"},e._l(e.selectForm,(function(t,a){return r("div",{key:a,staticClass:"select-item"},[e._v(" "+e._s(t.label)+":\n        "),r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{multiple:t["multiple"],clearable:"","collapse-tags":t["collapse"],placeholder:"请选择",size:"small"},on:{change:function(t){return e.filterFormChange("change")}},model:{value:e.filterForm[t.key],callback:function(r){e.$set(e.filterForm,t.key,r)},expression:"filterForm[i.key]"}},e._l(t.options,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)})),0)]),e._v(" "),r("div",{staticClass:"role-container-body",attrs:{id:"body"}},[r("annotable",{attrs:{tableData:e.tableData}})],1),e._v(" "),r("div",{staticClass:"role-container-bottom"},[r("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"page-size":e.filterForm["pagesize"],"page-sizes":[10,20,30,40],background:"",layout:"total, sizes, prev, pager, next, jumper","pager-count":9,"hide-on-single-page":!1,total:e.total,"current-page":e.filterForm.page},on:{"update:pageSize":function(t){return e.$set(e.filterForm,"pagesize",t)},"update:page-size":function(t){return e.$set(e.filterForm,"pagesize",t)},"update:currentPage":function(t){return e.$set(e.filterForm,"page",t)},"update:current-page":function(t){return e.$set(e.filterForm,"page",t)},"size-change":function(t){return e.filterFormChange("change")},"current-change":function(t){return e.filterFormChange("change")}}})],1),e._v(" "),r("createForm",e._b({},"createForm",{selectForm:e.selectForm},!1)),e._v(" "),r("el-dialog",{staticClass:"announceddialog",attrs:{title:"公告发布",visible:e.dialogFormVisiblesend,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisiblesend=t}}},[r("div",{staticClass:"tablesendheader",staticStyle:{"min-height":"5vh"}},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[r("el-form-item",{attrs:{label:""}},[r("el-switch",{attrs:{"active-text":"实时发送","inactive-text":"定时发送","active-value":!1,"inactive-value":!0},model:{value:e.sendtime,callback:function(t){e.sendtime=t},expression:"sendtime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"结束时间"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.endtime,callback:function(t){e.endtime=t},expression:"endtime"}})],1),e._v(" "),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.sendtime,expression:"sendtime"}],staticStyle:{"margin-left":"3vw"},attrs:{label:"发送时间"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.sendtimes,callback:function(t){e.sendtimes=t},expression:"sendtimes"}})],1)],1)],1),e._v(" "),r("div",{},[r("el-table",{ref:"multipleTable",staticClass:"tablesendclass",attrs:{border:"",data:e.tableTrue}},e._l(e.tablecolumn,(function(t,a){return r("el-table-column",{key:a,attrs:{label:t.label},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v(e._s(r.row[t.prop]))]}}],null,!0)})})),1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisiblesend=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.postsendannounced}},[e._v("确 定")])],1)]),e._v(" "),r("el-dialog",{staticClass:"announceddialog",attrs:{title:"公告修改",visible:e.dialogBulletinFormchange,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogBulletinFormchange=t}}},[r("div",{staticClass:"container"},[r("div",[r("el-form",{ref:"form",attrs:{"label-width":"80px"}},[r("el-form-item",{attrs:{label:"公告ID:"}},[r("el-input",{staticStyle:{width:"80%"},attrs:{disabled:"",placeholder:"请输入内容"},model:{value:e.changebulletindata["id"],callback:function(t){e.$set(e.changebulletindata,"id",t)},expression:"changebulletindata['id']"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"公告正文:"}},[r("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:8,placeholder:"请输入内容"},model:{value:e.changebulletindata["text"],callback:function(t){e.$set(e.changebulletindata,"text",t)},expression:"changebulletindata['text']"}})],1)],1)],1),e._v(" "),r("div",["公告板"===e.changebulletindata["type"]?r("el-form",{ref:"form",attrs:{"label-width":"80px"}},[r("el-form-item",{attrs:{label:"公告标题:","hide-required-asterisk":""}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.changebulletindata["title"],callback:function(t){e.$set(e.changebulletindata,"title",t)},expression:"changebulletindata['title']"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"公告链接:"}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.changebulletindata["link"],callback:function(t){e.$set(e.changebulletindata,"link",t)},expression:"changebulletindata['link']"}})],1)],1):e._e(),e._v(" "),"跑马灯"===e.changebulletindata["type"]?r("el-form",{ref:"form",attrs:{"label-width":"80px"}},[r("el-form-item",{attrs:{label:"开始时间:","hide-required-asterisk":""}},[r("el-date-picker",{staticClass:"alertcontant",attrs:{"picker-options":{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},type:"datetime",placeholder:"选择日期时间"},on:{change:e.changeQueryMarqueeweights},model:{value:e.changebulletindata["start_time"],callback:function(t){e.$set(e.changebulletindata,"start_time",t)},expression:"changebulletindata['start_time']"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"结束时间:","hide-required-asterisk":""}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},on:{change:e.changeQueryMarqueeweights},model:{value:e.changebulletindata["end_time"],callback:function(t){e.$set(e.changebulletindata,"end_time",t)},expression:"changebulletindata['end_time']"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"平台:"}},[r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{disabled:"",placeholder:"请选择",size:"small"},model:{value:e.changebulletindata["plaform"],callback:function(t){e.$set(e.changebulletindata,"plaform",t)},expression:"changebulletindata['plaform']"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"渠道:"}},[r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{multiple:"",disabled:"",placeholder:"请选择",size:"small"},model:{value:e.changebulletindata["client"],callback:function(t){e.$set(e.changebulletindata,"client",t)},expression:"changebulletindata['client']"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"服务器:"}},[r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{disabled:"",multiple:"",placeholder:"请选择",size:"small"},model:{value:e.changebulletindata["servername"],callback:function(t){e.$set(e.changebulletindata,"servername",t)},expression:"changebulletindata['servername']"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"时间间隔:"}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.changebulletindata["time_interval"],callback:function(t){e.$set(e.changebulletindata,"time_interval",e._n(t))},expression:"changebulletindata['time_interval']"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"权重:",prop:"weights"}},[r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.changebulletindata["weights"],callback:function(t){e.$set(e.changebulletindata,"weights",t)},expression:"changebulletindata['weights']"}},e._l(e.Marqueeweights,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1):e._e()],1)]),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogBulletinFormchange=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.putchangeoneannounced}},[e._v("确 定")])],1)])],1)},n=[],i=(r("7514"),r("ac6a"),r("7f7f"),r("96cf"),r("1da1")),l=(r("456d"),r("53ca"));function s(e){if(null===e||"object"!==Object(l["a"])(e))return e;var t=Array.isArray(e)?[]:{};return Object.keys(e).forEach((function(r){t[r]=s(e[r])})),t}var o=r("74eb"),c=r("b775"),u={"Content-Type":"multipart/form-data"};function m(e){return Object(c["a"])({url:"announcement/create",method:"POST",data:e,headers:u})}function h(e){return Object(c["a"])({url:"announcement/query",method:"GET",params:e})}function d(e){return Object(c["a"])({url:"announcement/update",method:"PUT",params:e})}function f(e){return Object(c["a"])({url:"announcement/send",method:"POST",data:e})}function p(e){return Object(c["a"])({url:"announcement/weights",method:"GET",params:e})}function b(e){return Object(c["a"])({url:"announcement/queryservernames",method:"GET",params:e})}function v(e){return Object(c["a"])({url:"announcement/putchangeoneannounced",method:"PUT",data:e})}var g=r("7364"),w=r("5a0c"),y=r.n(w),F=r("8bbf"),_=r.n(F),k=new _.a,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"anno-table-container"},[r("el-table",{ref:"multipleTable",attrs:{border:"",data:e.tableData,"row-class-name":e.tableRowClassName},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),e._l(e.tablecolumn,(function(t,a){return r("el-table-column",{key:a,attrs:{label:t.label},scopedSlots:e._u([{key:"default",fn:function(a){return[a.row[t.prop]?"string"===typeof a.row[t.prop]||"number"===typeof a.row[t.prop]?r("div",{staticClass:"tableHiddenBody",attrs:{title:a.row[t.prop]}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"light",placement:"top"}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("span",[e._v(e._s(a.row[t.prop]))])])]),e._v(" "),r("span",{staticClass:"tableHidden"},[e._v(e._s(a.row[t.prop]))])],1):r("div",[r("el-tooltip",{staticClass:"aasdhjkahskdhjk",attrs:{effect:"light",placement:"top"}},[r("div",{ref:"contentCssTableHover"+a.$index,refInFor:!0,staticClass:"contentCssTableHover",attrs:{slot:"content"},slot:"content"},e._l(a.row[t.prop],(function(t,a){return r("el-tag",{key:a},[e._v(e._s(t))])})),1),e._v(" "),r("div",{staticClass:"contentCssTableHidden"},e._l(a.row[t.prop],(function(t,a){return r("el-tag",{key:a},[e._v(e._s(t))])})),1)])],1):r("div")]}}],null,!0)})})),e._v(" "),e.grade?r("el-table-column",{attrs:{prop:"status",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticStyle:{display:"flex","justify-content":"center"}},["跑马灯"!==t.row.type?r("el-button",{directives:[{name:"show",rawName:"v-show",value:t.row["changeshow"],expression:'scope.row["changeshow"]'}],staticClass:"anno-table-button",attrs:{type:"warning"},on:{click:function(r){return e.placardmodify(t.$index,t.row)}}},[e._v("修改")]):e._e(),e._v(" "),r("el-popconfirm",{directives:[{name:"show",rawName:"v-show",value:t.row["stopshow"],expression:'scope.row["stopshow"]'}],attrs:{confirmButtonText:"好的",cancelButtonText:"不用了",icon:"el-icon-info",iconColor:"red",title:"确定停用此公告吗？"},on:{onConfirm:function(r){return e.placarddeactivate(t.$index,t.row)}}},[r("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("停用")])],1)],1)]}}],null,!1,2529948084)}):e._e()],2)],1)},$=[],S={name:"userauth",props:{tableData:{type:Array,default:function(){return[]}}},data:function(){return{tablecolumn:[{label:"公告ID",prop:"id"},{label:"公告类型",prop:"type"},{label:"平台",prop:"plaforms"},{label:"渠道",prop:"client"},{label:"区服名称",prop:"servername"},{label:"公告标题",prop:"title"},{label:"公告状态",prop:"anno_status"},{label:"开始时间",prop:"stime"},{label:"结束时间",prop:"etime"}],tableTrue:[]}},watch:{},computed:{grade:function(){return 0!==+this.$route.meta.grade}},methods:{tableRowClassName:function(e){var t=e.row;e.rowIndex;if("待用"!==t.anno_status||"公告板"!==t.type)return"success-row"},handleSelectionChange:function(e){this.tableTrue=e.filter((function(e){return"待用"===e.anno_status&&"公告板"===e.type})),k.$emit("tableTrue",this.tableTrue)},placarddeactivate:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d(r);case 2:if(a=e.sent,200===+a.code){e.next=5;break}return e.abrupt("return");case 5:this.$message.success("停用成功"),this.tableData[t]["anno_status"]="停用",this.tableData[t].stopshow=!1,this.tableData[t].changeshow=!1;case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),placardmodify:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:k.$emit("tableChange",{index:t,row:r});case 1:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},O=S,C=(r("27b3"),r("2877")),M=Object(C["a"])(O,x,$,!1,null,null,null),D=M.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"announceddialog-create"},[r("el-dialog",{staticClass:"announceddialog",attrs:{title:"新建公告",visible:e.eialog,"close-on-click-modal":!1},on:{"update:visible":function(t){e.eialog=t}}},[r("div",{staticClass:"headradio"},[r("el-radio",{attrs:{label:!0},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("跑马灯")]),e._v(" "),r("el-radio",{attrs:{label:!1},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("公告板")])],1),e._v(" "),r("div",{staticClass:"container"},[r("div",[r("el-form",{ref:"createForm",attrs:{model:e.createForm,rules:e.textrule,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"公告正文:",prop:"text"}},[r("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:8,placeholder:"请输入内容"},model:{value:e.createForm["text"],callback:function(t){e.$set(e.createForm,"text",t)},expression:"createForm['text']"}})],1)],1)],1),e._v(" "),r("div",[r("el-form",{directives:[{name:"show",rawName:"v-show",value:!e.radio,expression:"!radio"}],ref:"createFormbulletin",attrs:{model:e.createForm,rules:e.announcementrule,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"公告标题:",prop:"title"}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.createForm.title,callback:function(t){e.$set(e.createForm,"title",t)},expression:"createForm.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"公告图片:","hide-required-asterisk":""}},[r("div",{staticStyle:{display:"grid"}},[r("a",{staticClass:"a-upload",staticStyle:{width:"15vw"},attrs:{href:"javascript:;"}},[r("input",{attrs:{id:"uploadimage",type:"file"},on:{change:e.fileupload}}),e._v(" 点击上传文件 ")]),e._v(" "),r("span",[e._v(e._s(e.fileName))])])]),e._v(" "),r("el-form-item",{attrs:{label:"公告链接:",prop:"a"}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.createForm["a"],callback:function(t){e.$set(e.createForm,"a",t)},expression:"createForm['a']"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"公告类型:"}},[r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.createForm.range,callback:function(t){e.$set(e.createForm,"range",t)},expression:"createForm.range"}},[r("el-option",{attrs:{label:"游戏外公告（登录界面展示的公告）",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"游戏内公告（进入游戏后展示的公告）",value:"2"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"平台:",prop:"plaform"}},[r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{clearable:"",multiple:"",placeholder:"请选择",size:"small"},model:{value:e.createForm.plaform,callback:function(t){e.$set(e.createForm,"plaform",t)},expression:"createForm.plaform"}},[r("el-option",{attrs:{label:"安卓",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"苹果",value:"2"}})],1)],1),e._v(" "),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.createChannelShow,expression:"createChannelShow"}],attrs:{label:"渠道:",prop:"channel"}},[r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{multiple:"",clearable:"",placeholder:"请选择",size:"small"},on:{change:e.queryMarqueeweights},model:{value:e.createForm.channel,callback:function(t){e.$set(e.createForm,"channel",t)},expression:"createForm.channel"}},e._l(e.selectForm[1].options,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.createServerShow,expression:"createServerShow"}],attrs:{label:"服务器:"}},[r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{multiple:"",placeholder:"请选择",size:"small"},model:{value:e.createForm.servername,callback:function(t){e.$set(e.createForm,"servername",t)},expression:"createForm.servername"}},e._l(e.servernamesselect,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),r("el-form",{directives:[{name:"show",rawName:"v-show",value:e.radio,expression:"radio"}],ref:"createFormMarqueeRule",attrs:{rules:e.createFormMarqueeRules,model:e.createForm,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"开始时间:",prop:"stime"}},[r("el-date-picker",{attrs:{type:"datetime","picker-options":{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},placeholder:"选择日期时间"},on:{change:e.queryMarqueeweights},model:{value:e.createForm["stime"],callback:function(t){e.$set(e.createForm,"stime",t)},expression:"createForm['stime']"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"结束时间:",prop:"etime"}},[r("el-date-picker",{attrs:{type:"datetime","picker-options":{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},placeholder:"选择日期时间"},on:{change:e.queryMarqueeweights},model:{value:e.createForm["etime"],callback:function(t){e.$set(e.createForm,"etime",t)},expression:"createForm['etime']"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"平台:",prop:"plaform"}},[r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{clearable:"",multiple:"",placeholder:"请选择",size:"small"},on:{change:e.queryMarqueeweights},model:{value:e.createForm.plaform,callback:function(t){e.$set(e.createForm,"plaform",t)},expression:"createForm.plaform"}},[r("el-option",{attrs:{label:"安卓",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"苹果",value:"2"}})],1)],1),e._v(" "),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.createChannelShow,expression:"createChannelShow"}],attrs:{label:"渠道:"}},[r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{multiple:"",clearable:"",placeholder:"请选择",size:"small"},on:{change:e.queryMarqueeweights},model:{value:e.createForm.channel,callback:function(t){e.$set(e.createForm,"channel",t)},expression:"createForm.channel"}},e._l(e.selectForm[1].options,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.createServerShow,expression:"createServerShow"}],attrs:{label:"服务器:"}},[r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{multiple:"",clearable:"",placeholder:"请选择",size:"small"},on:{change:e.queryMarqueeweights},model:{value:e.createForm["servername"],callback:function(t){e.$set(e.createForm,"servername",t)},expression:"createForm['servername']"}},e._l(e.servernamesselect,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"时间间隔:",prop:"interval"}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.createForm["interval"],callback:function(t){e.$set(e.createForm,"interval",e._n(t))},expression:"createForm['interval']"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"权重:",prop:"weights"}},[r("el-select",{staticStyle:{"border-radius":"10px"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.createForm["weights"],callback:function(t){e.$set(e.createForm,"weights",t)},expression:"createForm['weights']"}},e._l(e.Marqueeweights,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)]),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.createFormCancel}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.postannounced}},[e._v("确 定")])],1)])],1)},T=[],q=r("0d21");function R(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],a=!0,n=!1,i=void 0;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done);a=!0)if(r.push(l.value),t&&r.length===t)break}catch(o){n=!0,i=o}finally{try{a||null==s["return"]||s["return"]()}finally{if(n)throw i}}return r}}var z=r("06c5"),Y=r("3d8c");function H(e,t){return Object(q["a"])(e)||R(e,t)||Object(z["a"])(e,t)||Object(Y["a"])()}r("ffc1");var N=r("c82a"),E={name:"userauth",props:{selectForm:{type:Array,default:function(){return[]}}},data:function(){var e=this,t=function(e,t,r){return t?new Date>t?r(new Error("不可以选择超过现在时间得时间")):void r():r(new Error("请选择一个时间"))},r=function(t,r,a){return r?new Date(r)<=e.createForm["stime"]?a(new Error("结束时间不可等于或小于开始时间")):void a():a(new Error("请选择一个时间"))},a=function(e,t,r){return t?/^[0-9]*$/.test(t)?void r():r(new Error("请输入纯数字")):r(new Error("请输入时间间隔"))},n=function(e,t,r){if(!t)return r(new Error("请至少输入一个字符"));r()},i=function(e,t,r){if(!t)return r(new Error("请至少输入一个字符"));r()},l=function(e,t,r){if(!t)return r(new Error("请至少输入一个字符"));r()};return{eialog:!1,radio:!0,createFormMarqueeRules:{stime:[{validator:t,trigger:["blur","change"]}],etime:[{validator:r,trigger:["blur","change"]}],interval:[{validator:a,trigger:["blur","change"]}],weights:[{validator:i,trigger:["blur","change"]}]},announcementrule:{title:[{validator:n,trigger:["blur","change"]}],a:[{validator:i,trigger:["blur","change"]}]},textrule:{text:[{validator:l,trigger:["blur","change"]}]},createForm:{bulletinid:"",stime:"",etime:"",plaform:[],channel:[],servername:"",interval:"",weights:"",title:"",images:"",a:"",text:"",range:"1"},Marqueeweights:[],servernamesselect:[],fileName:""}},watch:{},computed:{grade:function(){return 0!==+this.$route.meta.grade},createServerShow:function(){var e=this.createForm,t=e.plaform,r=e.channel;return t&&0!==t.length?r&&0!==r.length?(this.createForm.servername=[],!0):(this.createForm.servername=[],!1):(this.createForm.channel=[],!1)},createChannelShow:function(){var e=this.createForm.plaform;return!(!e||0===e.length)||(this.createForm.channel=[],!1)}},methods:{arrayUnique:function(e,t){var r={};if(e&&"[]"!==JSON.stringify(e))return e.reduce((function(e,a){return!r[a[t]]&&(r[a[t]]=e.push(a)),e}),[])},fileupload:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.createForm["images"]=t.target.files[0],this.fileName=this.createForm["images"].name;case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),createFormCancel:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.eialog=!1,this.$refs["createFormbulletin"].resetFields(),this.$refs["createForm"].resetFields(),this.createForm=this.$options.data().createForm;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),postannounced:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,i,l,s,o,c,u,h,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(N["b"])(this),e.next=3,this.$refs["createForm"].validate().catch((function(e){return!1}));case 3:if(t=e.sent,!this.radio){e.next=10;break}return e.next=7,this.$refs["createFormMarqueeRule"].validate().catch((function(e){return!1}));case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,this.$refs["createFormbulletin"].validate().catch((function(e){return!1}));case 12:e.t0=e.sent;case 13:if(r=e.t0,r&&t){e.next=17;break}return Object(N["a"])(this),e.abrupt("return");case 17:return e.next=19,Object(N["c"])(this,"确认创建公告。");case 19:if(a=e.sent,a){e.next=23;break}return Object(N["a"])(this),e.abrupt("return");case 23:for(n=new FormData,i=0,l=Object.entries(this.createForm);i<l.length;i++)s=H(l[i],2),o=s[0],c=s[1],n.append(o,c);return this.radio?n.append("type",1):n.append("type",2),e.next=28,m(n);case 28:if(u=e.sent,200===u.code){e.next=32;break}return Object(N["a"])(this),e.abrupt("return");case 32:for(h in this.createForm)this.createForm[h]="";this.file="",this.fileName="",this.eialog=!1,k.$emit("flush",!0),d=u.data.id,this.$message.success("创建成功id为".concat(d,"!")),this.$refs["createForm"].resetFields(),Object(N["a"])(this);case 41:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),queryMarqueeweights:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,i,l,s,o,c,u,m,h=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.createForm["weights"]="",t=this.createForm,r=t.stime,a=t.etime,n=t.plaform,i=t.channel,l=t.servername,!n||!i){e.next=10;break}return e.next=5,b({channel:i,plaform:n});case 5:s=e.sent,o=s.data,this.servernamesselect=this.arrayUnique(o,"value"),e.next=12;break;case 10:this.createForm["servername"]="",this.servernamesselect=[];case 12:return e.next=14,p({stime:r,etime:a,plaform:n,channel:i,servername:l});case 14:c=e.sent,u=c.data,this.Marqueeweights=u.filter((function(e){return e.value})),m=[{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10}],this.Marqueeweights=m.filter((function(e){return!h.Marqueeweights.some((function(t){return+t.label===+e.label}))}));case 19:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:k.$on("eialog",(function(e){t.eialog=!0}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},A=E,I=(r("a458"),Object(C["a"])(A,j,T,!1,null,null,null)),B=I.exports,V={name:"announcedmanage",components:{annotable:D,createForm:B},data:function(){return{changebulletindata:"",dialogBulletinFormchange:!1,sendtime:!1,sendtimes:"",endtime:"",dialogFormVisiblesend:!1,file:[],total:0,filterForm:{bulletinid:"",setime:"",plaform:"",channel:"",servername:"",type:"",page:1,pagesize:10},createForm:{bulletinid:"",stime:"",etime:"",plaform:[],channel:[],servername:"",interval:"",weights:"",title:"",images:"",a:"",text:"",range:"1"},selectForm:[{label:"游戏平台",multiple:!0,collapse:!1,key:"plaform",value:"",options:[{label:"安卓",value:"1"},{label:"苹果",value:"2"}]},{label:"游戏渠道",key:"channel",multiple:!0,collapse:!0,value:"",options:[]},{label:"服务器名称",key:"servername",multiple:!0,collapse:!0,value:"",options:[]},{label:"公告类型",key:"type",multiple:!1,collapse:!0,value:"",options:[{label:"不限制",value:""},{label:"跑马灯",value:"1"},{label:"公告板",value:"2"}]}],tableData:[],tablecolumn:[{label:"公告ID",prop:"id"},{label:"公告类型",prop:"type"},{label:"平台",prop:"plaform"},{label:"渠道",prop:"client"},{label:"区服名称",prop:"servername"},{label:"公告标题",prop:"title"},{label:"公告状态",prop:"anno_status"},{label:"开始时间",prop:"stime"},{label:"结束时间",prop:"etime"}],fileName:"",tableTrue:[],Marqueeweights:[]}},computed:{send:function(){return!(this.tableTrue.length>0)},grade:function(){return 0!==+this.$route.meta.grade}},methods:{changeQueryMarqueeweights:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i,l,s,o,c,u,m=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"index"!==t&&(this.changebulletindata["weights"]=""),this.Marqueeweights=[],r=this.changebulletindata,a=r.start_time,n=r.end_time,i=r.plaform,l=r.client,s=r.servername,e.t0=i,e.next="不限制"===e.t0?6:"安卓"===e.t0?8:"苹果"===e.t0?10:12;break;case 6:return i="",e.abrupt("break",12);case 8:return i="1",e.abrupt("break",12);case 10:return i="2",e.abrupt("break",12);case 12:return e.next=14,p({stime:a,etime:n,plaform:i,client:l,servername:s});case 14:o=e.sent,c=o.data,this.Marqueeweights=c.filter((function(e){return e.value})),u=[{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10}],this.Marqueeweights=u.filter((function(e){return!m.Marqueeweights.some((function(t){return+t.label===+e.label}))}));case 19:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),putchangeoneannounced:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v(this.changebulletindata);case 2:if(t=e.sent,r=t.code,200!==+r){e.next=9;break}return this.dialogBulletinFormchange=!1,this.filterFormChangeget(),this.$message.success("修改成功"),e.abrupt("return");case 9:this.$message.warning("修改失败");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),postsendannounced:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(N["b"])(this),t=this.sendtimes?y()(this.sendtimes).format("YYYY-MM-DD HH:mm:ss"):"",this.sendtime||(t=y()(new Date).format("YYYY-MM-DD HH:mm:ss")),t){e.next=7;break}return this.$message.info("请选择开始时间"),Object(N["a"])(this),e.abrupt("return");case 7:if(!((new Date).getTime()>new Date(t).getTime()&&this.sendtimes)){e.next=11;break}return this.$message.info("开始时间错误"),Object(N["a"])(this),e.abrupt("return");case 11:if(this.endtime){e.next=15;break}return this.$message.info("请选择结束时间"),Object(N["a"])(this),e.abrupt("return");case 15:if(!((new Date).getTime()>new Date(this.endtime).getTime()||new Date(this.endtime).getTime()<=new Date(t).getTime())){e.next=19;break}return this.$message.info("结束时间错误"),Object(N["a"])(this),e.abrupt("return");case 19:return e.next=21,Object(N["c"])(this,"是否确认发布。");case 21:if(r=e.sent,r){e.next=25;break}return Object(N["a"])(this),e.abrupt("return");case 25:return e.next=27,f({data:this.tableTrue,sendtime:t,sendtimes:this.sendtimes,endtime:y()(this.endtime).format("YYYY-MM-DD HH:mm:ss")});case 27:if(a=e.sent,200===a.code){e.next=31;break}return Object(N["a"])(this),e.abrupt("return");case 31:this.$message.success("发布成功"),this.dialogFormVisiblesend=!1,this.sendtimes="",this.sendtime=!1,this.endtime="",this.filterFormChangeget(),Object(N["a"])(this);case 38:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),placardmodify:function(e,t){this.dialogBulletinFormchange=!0,this.changebulletindata=s(t),this.changeQueryMarqueeweights("index")},dialogFormVisiblechangealter:function(){k.$emit("eialog",!0)},fileupload:function(e){this.createForm["images"]=e.target.files[0],this.fileName=this.createForm["images"].name},filterFormChange:function(e){switch(this.$refs["rechaContainer"].parentElement.scrollTo({top:0,behavior:"smooth"}),e){case"click":this.filterFormChangeClick();break;case"change":this.filterFormChangeget();break;case"flush":this.filterFormChangeFlush();break;case"page":this.filterFormChangePage();break}},filterFormChangeFlush:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.filterForm=this.$options.data().filterForm,this.filterFormGET(this.filterForm);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),filterFormChangeClick:function(){for(var e in this.filterForm)"bulletinid"!==e&&"page"!==e&&"pagesize"!==e&&(this.filterForm[e]="");this.filterFormGET(this.filterForm)},filterFormChangeget:function(){this.filterForm["bulletinid"]="",this.filterFormGET(this.filterForm)},filterFormGET:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h(this.filterForm);case 2:if(r=e.sent,200===+r.code){e.next=6;break}return this.tableData=[],e.abrupt("return");case 6:this.tableData=r.data.res,this.total=+r.data.total,this.tableData.map((function(e){try{e["stime"]=e.stime?y()(e.stime).format("YYYY-MM-DD HH:mm:ss"):"",e["etime"]=e.etime?y()(e.etime).format("YYYY-MM-DD HH:mm:ss"):""}catch(t){console.log(t)}switch(+e.anno_status){case 1:e["anno_status"]="停用",e.changeshow=!1,e.stopshow=!1;break;case 2:e["anno_status"]="发布中",e.changeshow=!1,e.stopshow=!0;break;case 3:e["anno_status"]="发布失败",e.changeshow=!1,e.stopshow=!1;break;case 4:e["anno_status"]="发布完成",e.changeshow=!1,e.stopshow=!0;break;case 5:e["anno_status"]="发布结束",e.changeshow=!1,e.stopshow=!1;break;default:e["anno_status"]="待用",e.changeshow=!0,e.stopshow=!0}return e}));case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,i,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return k.$on("tableChange",(function(e){var t=e.index,r=e.row;l.placardmodify(t,r)})),k.$on("tableTrue",(function(e){l.tableTrue=e})),k.$on("flush",(function(e){l.filterFormChangeget()})),e.next=5,Object(o["d"])({code:"areaclothing",gameid:this.gameid});case 5:return t=e.sent,r=t.data.values,a=r.map((function(e){return{label:e,value:e}})),this.selectForm[1].options=this.selectForm[1].options.concat(a),this.clientOptions=a,e.next=12,Object(g["c"])();case 12:n=e.sent,i=n.data,i.map((function(e){l.selectForm[2].options.find((function(t){return t.label===e.label}))||!e.label||l.selectForm[2].options.push(e)})),this.filterFormChange("click");case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},P=V,U=(r("f334"),Object(C["a"])(P,a,n,!1,null,null,null));t["default"]=U.exports},f334:function(e,t,r){"use strict";var a=r("7784"),n=r.n(a);n.a},ffc1:function(e,t,r){var a=r("5ca1"),n=r("504c")(!0);a(a.S,"Object",{entries:function(e){return n(e)}})}}]);