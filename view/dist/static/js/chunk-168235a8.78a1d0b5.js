(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-168235a8"],{"219e":function(e,t,a){},"2afb":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamemanagement"},[a("div",{class:{"gamemanagement-body":e.gradele9999,"gamemanagement-bodys":!e.gradele9999}},[e._l(e.valueList,(function(t,r){return a("el-row",{key:r,class:{teststs:e.gradele9999}},[a("el-col",{staticStyle:{display:"flex"},attrs:{span:32}},[a("div",{staticClass:"gamephoto",style:"background-image: url("+t.url+");",on:{dblclick:function(a){return e.changeFormDialogShow(t)},mouseover:function(e){t["movehover"]=!0},mouseout:function(e){t["movehover"]=!1}}},[e.gradele9999?a("el-button",{directives:[{name:"show",rawName:"v-show",value:t["movehover"],expression:'i["movehover"]'}],staticClass:"game-managet-button",attrs:{type:"danger",icon:"el-icon-circle-close",circle:"",size:"mini"},on:{click:function(a){return e.removeGame(t)}}}):e._e()],1)]),e._v(" "),a("el-col",{staticClass:"gamename"},[a("span",[e._v(e._s(t.gamename))])])],1)})),e._v(" "),9999===+e.grade?a("el-row",{class:{teststs:e.gradele9999}},[a("el-col",{staticStyle:{display:"flex"},attrs:{span:32}},[a("div",{staticClass:"gamephoto",style:"background-image: url(https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2576271325,1961580115&fm=26&gp=0.jpg);",on:{click:e.tesst}})]),e._v(" "),a("el-col",{staticClass:"gamename"},[a("span",[e._v("添加游戏")])])],1):e._e()],2),e._v(" "),a("el-dialog",{staticClass:"eldialog-gamemanement",attrs:{title:"游戏创建",visible:e.gameCreatedialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.gameCreatedialogFormVisible=t},close:e.createCancel}},[a("el-form",{ref:"createForm",staticClass:"createFormAlert",attrs:{prop:"file","label-width":"100px",model:e.createForm,rules:e.createFormRules}},[a("el-form-item",{staticClass:"gameimgupload",attrs:{label:"游戏封面上传",prop:"file"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"http-request":e.fileUpload,accept:".jpg,.jpeg,.png"}},[e.imageUrl?a("img",{ref:"img",staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"游戏名称",prop:"gameName"}},[a("el-input",{attrs:{placeholder:"请输入游戏名称"},model:{value:e.createForm.gameName,callback:function(t){e.$set(e.createForm,"gameName",t)},expression:"createForm.gameName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设置管理员",prop:"userId"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.createForm.userId,callback:function(t){e.$set(e.createForm,"userId",t)},expression:"createForm.userId"}},e._l(e.userList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.createCancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.createFormSubmit}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"eldialog-gamemanement",attrs:{title:"游戏配置",visible:e.gameChangedialogFormVisibleVip,"close-on-click-modal":!1},on:{"update:visible":function(t){e.gameChangedialogFormVisibleVip=t},close:e.GameConfigCancel}},[a("el-form",{ref:"GameConfig",staticClass:"createFormAlert",attrs:{prop:"file","label-width":"100px",model:e.gameConfig,rules:e.gameConfigRules}},[a("el-form-item",{attrs:{label:"user表名:",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入user表名"},model:{value:e.gameConfig.userName,callback:function(t){e.$set(e.gameConfig,"userName",t)},expression:"gameConfig.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"userToken:",prop:"userToken"}},[a("el-input",{attrs:{placeholder:"请输入userToken"},model:{value:e.gameConfig.userToken,callback:function(t){e.$set(e.gameConfig,"userToken",t)},expression:"gameConfig.userToken"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"event表名:",prop:"eventName"}},[a("el-input",{attrs:{placeholder:"请输入event表名"},model:{value:e.gameConfig.eventName,callback:function(t){e.$set(e.gameConfig,"eventName",t)},expression:"gameConfig.eventName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"eventToken:",prop:"eventToken"}},[a("el-input",{attrs:{placeholder:"请输入eventToken"},model:{value:e.gameConfig.eventToken,callback:function(t){e.$set(e.gameConfig,"eventToken",t)},expression:"gameConfig.eventToken"}})],1)],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.GameConfigCancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.GameConfigSubmit}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"eldialog-gamemanement",attrs:{title:"游戏修改",visible:e.gameChangedialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.gameChangedialogFormVisible=t},close:e.changeCancel}},[a("el-form",{ref:"changeForm",staticClass:"createFormAlert",attrs:{prop:"file","label-width":"100px",model:e.changeForm,rules:e.changeFormRules}},[a("el-form-item",{staticClass:"gameimgupload",attrs:{label:"游戏封面上传",prop:"file"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"http-request":e.changeFileUpload,accept:".jpg,.jpeg,.png"}},[e.changeForm.imageUrl?a("img",{ref:"img",staticClass:"avatar",attrs:{src:e.changeForm.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"游戏名称",prop:"gameName"}},[a("el-input",{attrs:{placeholder:"请输入游戏名称"},on:{change:function(t){e.changeForm.gameNameChange=!0}},model:{value:e.changeForm.gameName,callback:function(t){e.$set(e.changeForm,"gameName",t)},expression:"changeForm.gameName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设置管理员",prop:"userId"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},on:{change:function(t){e.changeForm.userIdChange=!0}},model:{value:e.changeForm.userId,callback:function(t){e.$set(e.changeForm,"userId",t)},expression:"changeForm.userId"}},e._l(e.userList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.changeCancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.changeFormSubmit}},[e._v("确定")])],1)],1)],1)},n=[],i=(a("96cf"),a("1da1")),o=(a("28a5"),a("7f7f"),a("b775"));function s(e){return Object(o["a"])({url:"gm/game/list",method:"get",params:e})}function c(e){return Object(o["a"])({url:"gm/game/userList",method:"get",params:e})}function l(e){return Object(o["a"])({url:"gm/game/creategame",method:"post",data:e,form:e})}function u(e){return Object(o["a"])({url:"gm/game/deleteGame",method:"put",data:e,form:e})}function m(e){return Object(o["a"])({url:"gm/game/changeGame",method:"put",data:e,form:e})}function g(e){return Object(o["a"])({url:"gm/game/changeGameConfig",method:"put",data:e,form:e})}var p={name:"GameTest",data:function(){var e=this,t=function(e,t,a){return t?a():a(new Error("请选择用户"))},a=function(e,t,a){return t?a():a(new Error("请输入游戏名称"))},r=function(e,t,a){var r=t.name;if(r)switch(r=r.split(".").pop(),r){case"jpeg":break;case"jpg":break;case"png":break;default:return a(new Error("不支持的文件类型"))}return t?a():a(new Error("请选择文件"))},n=function(t,a,r){if(!e.$data.changeForm.iamgeChange)return r();var n=a.name;if(n)switch(n=n.split(".").pop(),n){case"jpeg":break;case"jpg":break;case"png":break;default:return r(new Error("不支持的文件类型"))}return a?r():r(new Error("请选择文件"))};return{mousehover:!1,gameCreatedialogFormVisible:!1,gameChangedialogFormVisible:!1,gameChangedialogFormVisibleVip:!1,valueList:[],userList:[],createForm:{userId:"",gameName:"",file:""},gameConfig:{userName:"",userToken:"",eventName:"",eventToken:""},changeForm:{imageUrl:"",gameNameChange:"",userIdChange:"",userId:"",gameName:"",file:"",id:"",iamgeChange:""},imageUrl:"",createFormRules:{userId:{validator:t,trigger:["blur","change"]},gameName:{validator:a,trigger:["change"]},file:{validator:r,trigger:["blur","change"]}},changeFormRules:{userId:{validator:t,trigger:["blur","change"]},gameName:{validator:a,trigger:["change"]},file:{validator:n,trigger:["blur","change"]}},gameConfigRules:{userName:{validator:function(e,t,a){return t?a():a(new Error("请输入User表名"))},trigger:["blur","change"]},userToken:{validator:function(e,t,a){return t?a():a(new Error("请输入UserToken"))},trigger:["blur","change"]},eventName:{validator:function(e,t,a){return t?a():a(new Error("请输入Event表名"))},trigger:["blur","change"]},eventToken:{validator:function(e,t,a){return t?a():a(new Error("请输入EventToken"))},trigger:["blur","change"]}}}},computed:{grade:function(){return this.$route.meta.grade},gradele9999:function(){return 9999===+this.grade}},methods:{tesst:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.gameCreatedialogFormVisible=!0,e.next=3,c();case 3:t=e.sent,a=t.code,r=t.data,200===+a&&(this.userList=r);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeFormDialogShow:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,i,o,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.gradele9999){e.next=15;break}return this.gameChangedialogFormVisible=!0,a=t.gamename,r=t.id,n=t.url,i=t.userid,this.changeForm.gameName=a,this.changeForm.imageUrl=n,this.changeForm.id=r,this.changeForm.userId=+i,e.next=9,c();case 9:o=e.sent,s=o.code,l=o.data,200===+s&&(this.userList=l),e.next=17;break;case 15:return this.gameChangedialogFormVisibleVip=!0,e.abrupt("return");case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),removeGame:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.gamename,e.next=3,this.$confirm("是否确认删除游戏->>".concat(a,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return!1}));case 3:if(r=e.sent,r){e.next=6;break}return e.abrupt("return");case 6:return n=this.$loading({lock:!0,text:"拼命加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.8)"}),e.next=9,u(t);case 9:i=e.sent,o=i.code,200===+o&&this.$message.success("游戏删除成功"),n.close(),window.location.reload();case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),GameConfigCancel:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.gameChangedialogFormVisibleVip=!1,this.gameConfig=this.$options.data().gameConfig,this.$refs["GameConfig"].resetFields();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),GameConfigSubmit:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs["GameConfig"].validate().catch((function(e){return!1}));case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.$confirm("是否确认修改游戏配置?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return!1}));case 7:if(a=e.sent,a){e.next=10;break}return e.abrupt("return");case 10:return r=this.$loading({lock:!0,text:"拼命加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.8)"}),e.next=13,g(this.gameConfig);case 13:n=e.sent,i=n.code,200===+i&&(this.$message.success("修改成功"),this.GameConfigCancel()),r.close();case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeFormSubmit:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,i,o,s,c,l,u,g,p,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.changeForm,a=t.gameNameChange,r=t.userIdChange,n=t.iamgeChange,!(a||r||n)){e.next=5;break}i="\n        您修改了 ".concat(a?"游戏名 ":"").concat(r?"管理员 ":"").concat(n?"游戏封面":""),e.next=6;break;case 5:return e.abrupt("return");case 6:return e.next=8,this.$refs["changeForm"].validate().catch((function(e){return!1}));case 8:if(o=e.sent,o){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,this.$confirm("是否确认修改游戏? ".concat(i),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return!1}));case 13:if(s=e.sent,s){e.next=16;break}return e.abrupt("return");case 16:for(g in c=this.$loading({lock:!0,text:"拼命加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.8)"}),l=this.changeForm,u=new FormData,l)u.append(g,l[g]);return e.next=22,m(u);case 22:if(p=e.sent,h=p.code,200!==+h){e.next=30;break}return this.$message.success("修改成功。"),e.next=28,this.createTableList();case 28:window.location.reload(),this.changeCancel();case 30:c.close();case 31:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeCancel:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.gameChangedialogFormVisible=!1,this.changeForm=this.$options.data().changeForm,this.$refs["changeForm"].resetFields();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createFormSubmit:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,i,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs["createForm"].validate().catch((function(e){return!1}));case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.$confirm("是否确认添加游戏?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return!1}));case 7:if(a=e.sent,a){e.next=10;break}return e.abrupt("return");case 10:for(o in r=this.$loading({lock:!0,text:"拼命加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.8)"}),n=this.createForm,i=new FormData,n)i.append(o,n[o]);return e.next=16,l(i);case 16:s=e.sent,c=s.code,r.close(),200===+c&&(this.$message.success("游戏添加成功"),window.location.reload(),this.createCancel());case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createCancel:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.gameCreatedialogFormVisible=!1,this.imageUrl="",this.createForm=this.$options.data().createForm,this.$refs["createForm"].resetFields();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeFileUpload:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.file,this.changeForm.file=a,this.changeForm.imageUrl=URL.createObjectURL(a),this.changeForm.iamgeChange=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),fileUpload:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.file,this.createForm.file=a,this.imageUrl=URL.createObjectURL(a);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),createTableList:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:t=e.sent,a=t.code,r=t.data,200===+a&&(this.valueList=r);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.createTableList();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},h=p,f=(a("d0a6"),a("2877")),d=Object(f["a"])(h,r,n,!1,null,null,null);t["default"]=d.exports},d0a6:function(e,t,a){"use strict";var r=a("219e"),n=a.n(r);n.a}}]);